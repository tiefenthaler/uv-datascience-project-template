
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="blogpost_uv_data_science_project_template/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>UV Data Science Project Template - UV Data Science Project Template</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#uv-data-science-project-template" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="UV Data Science Project Template" class="md-header__button md-logo" aria-label="UV Data Science Project Template" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UV Data Science Project Template
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              UV Data Science Project Template
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/tiefenthaler/uv-datascience-project-template" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="guides/" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="api/" class="md-tabs__link">
          
  
  
    
  
  Source Code API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="notebooks/app_without_fastapi/" class="md-tabs__link">
          
  
  
    
  
  Notebooks

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="UV Data Science Project Template" class="md-nav__button md-logo" aria-label="UV Data Science Project Template" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    UV Data Science Project Template
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tiefenthaler/uv-datascience-project-template" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="." class="md-nav__link md-nav__link--active">
              
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="blogpost_uv_data_science_project_template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blogpost
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/uv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/ruff/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ruff
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/pyright/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyRight
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/pytest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyTest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/pre_commit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-Commit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/ci_github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CI-GitHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/mkdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MkDocs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/docker_prod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker-Production
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/docker_vscode_devcontainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker-VSCode-DevContainer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/cookiecutter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cookiecutter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="api/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Source Code API Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Source Code API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/autoencoder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autoencoder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Training
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/fastapi_app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FastAPI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Notebooks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="notebooks/app_without_fastapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jupyter Notebook - App
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Overview Tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-uv-to-manage-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Using uv to Manage the Project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using uv to Manage the Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-management" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cookiecutter-to-create-a-new-project-from-this-template" class="md-nav__link">
    <span class="md-ellipsis">
      &gt; Cookiecutter to create a new project from this template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="&gt; Cookiecutter to create a new project from this template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-use-cookiecutter" class="md-nav__link">
    <span class="md-ellipsis">
      How to Use Cookiecutter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-code-in-src-folder" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Code in src Folder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Code in src Folder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lit_auto_encoder" class="md-nav__link">
    <span class="md-ellipsis">
      lit_auto_encoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#train_autoencoder" class="md-nav__link">
    <span class="md-ellipsis">
      train_autoencoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fastapi-application" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI Application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FastAPI Application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#app_fastapi_autoencoder" class="md-nav__link">
    <span class="md-ellipsis">
      app_fastapi_autoencoder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-setup-for-the-machine-learning-fastapi-app-hosted-in-the-docker-container" class="md-nav__link">
    <span class="md-ellipsis">
      Production Setup for the Machine Learning FastAPI App hosted in the Docker container
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Production Setup for the Machine Learning FastAPI App hosted in the Docker container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dockerfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-stage-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Multi Stage Dockerfile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-docker-image-and-run-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      Build the docker image and run a container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-endpoint-with-curl" class="md-nav__link">
    <span class="md-ellipsis">
      Test the endpoint with curl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-in-dev-container" class="md-nav__link">
    <span class="md-ellipsis">
      Development in Dev Container
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="uv-data-science-project-template">UV Data Science Project Template<a class="headerlink" href="#uv-data-science-project-template" title="Permanent link">&para;</a></h1>
<p>Welcome to the documentation for UV Data Science Project Template. This project demonstrates how to set up a data science environment using Docker, UV, FastAPI, along with other tools for developing python projects.</p>
<!-- Include the content of README.md -->

<div align="center">
  <img src="readme/supercharge_python_datascience_project.png" alt="Banner" width="75%" height="75%">
  <p><em>Image by David T. [Source: Astral]</em></p>
</div>

<div align="center">
<p><a href="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/testing.yml"><img alt="testing status - event" src="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/testing.yml/badge.svg?event=push" /></a>
<a href="https://github.com/tiefenthaler/uv-datascience-project-template/blob/coverage-badge/coverage.svg"><img alt="coverage status - file" src="https://raw.githubusercontent.com/tiefenthaler/uv-datascience-project-template/coverage-badge/coverage.svg" /></a>
<a href="https://github.com/tiefenthaler/uv-datascience-project-template/actions"><img alt="ci workflows - event" src="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/check-all-workflows.yml/badge.svg?event=push" /></a>
<a href="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/publish-docs.yml"><img alt="documentation status - event" src="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/publish-docs.yml/badge.svg?event=push" /></a>
<a href="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/docker.yml"><img alt="docker - event" src="https://img.shields.io/badge/docker-ready-blue.svg" /></a>
<a href="https://github.com/tiefenthaler/uv-datascience-project-template/actions/workflows/docker.yml"><img alt="devcontainer - event" src="https://img.shields.io/badge/devcontainer-ready-blue.svg" /></a>
<a href="https://opensource.org/licenses/MIT"><img alt="license: MIT - static" src="https://img.shields.io/badge/License-MIT-yellow.svg" /></a>
<a href="https://tiefenthaler.github.io/uv-datascience-project-template/guides/cookiecutter/"><img alt="cookiecutter - static" src="https://img.shields.io/badge/cookiecutter-template-328F97?logo=cookiecutter" /></a></p>
</div>
<blockquote>
<p><strong>Template Project</strong> for <strong>Developing Data Science Projects</strong> with <strong>UV</strong>.
A new project using this template can be created with <strong>cookiecutter</strong>.</p>
</blockquote>
<p>This guide provides instructions on how to develop and productionize machine learning applications in a robust and efficient way.
It is demonstrated how to achieve this using a modern setup of tools, like UV, Docker, Ruff, PyTest, MkDocs, CI, and more (see <a href="#overview-tools">Overview Tools</a> Section). The focus of this project is to give an introduction to using those tools and not on how to properly set up a machine learning application (for production). Therefore only a simple machine learning pipeline based on PyTorch/Lightning and FastAPI is used.</p>
<h2 id="overview-tools">Overview Tools<a class="headerlink" href="#overview-tools" title="Permanent link">&para;</a></h2>
<p>The project includes the following components, for more details see <a href="https://tiefenthaler.github.io/uv-datascience-project-template/guides/">Documentation - Guides</a>:</p>
<!--docs-ref-index-3-start-->

<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UV</strong></td>
<td>A fast and efficient package manager for Python, written in Rust. It replaces tools like pip and virtualenv.</td>
</tr>
<tr>
<td><strong>Ruff</strong></td>
<td>An extremely fast Python linter, formatter, and code assistant, written in Rust.</td>
</tr>
<tr>
<td><strong>PyRight</strong></td>
<td>A static type checker for Python, helping to catch type-related errors early in the development process.</td>
</tr>
<tr>
<td><strong>PyTest</strong></td>
<td>A powerful and flexible testing framework for Python, simplifying writing and running tests.</td>
</tr>
<tr>
<td><strong>Coverage</strong></td>
<td>A tool for measuring code coverage of Python programs, helping to ensure that all parts of the code are tested.</td>
</tr>
<tr>
<td><strong>Pre-Commit</strong></td>
<td>A framework for managing and maintaining multi-language pre-commit hooks to ensure code quality.</td>
</tr>
<tr>
<td><strong>CI-GitHub</strong></td>
<td>Continuous Integration setup using GitHub Actions to automate testing, linting, and deployment.</td>
</tr>
<tr>
<td><strong>MkDocs</strong></td>
<td>A static site generator geared towards building project documentation, written in Markdown.</td>
</tr>
<tr>
<td><strong>VSCode-DevContainer</strong></td>
<td>A development environment setup using Docker and VS Code, providing a consistent and isolated workspace.</td>
</tr>
<tr>
<td><strong>Docker-Production</strong></td>
<td>Docker setup for creating a lean, efficient, and secure production environment for applications.</td>
</tr>
<tr>
<td><strong>Cookiecutter</strong></td>
<td>A command-line utility that creates projects from project templates.</td>
</tr>
</tbody>
</table>
<!--docs-ref-index-3-end-->

<h2 id="using-uv-to-manage-the-project">Using uv to Manage the Project<a class="headerlink" href="#using-uv-to-manage-the-project" title="Permanent link">&para;</a></h2>
<p><code>UV</code> is a tool that simplifies the management of Python projects and virtual environments. It handles dependency installation, virtual environment creation, and other project configurations. In this project, <code>UV</code> is used to manage dependencies and the virtual environment inside the Docker container, ensuring a consistent and reproducible setup.</p>
<p>See <a href="https://tiefenthaler.github.io/uv-datascience-project-template/guides/uv/">Guides - UV</a> for a comprehensive guide.</p>
<h3 id="configuration-management">Configuration Management<a class="headerlink" href="#configuration-management" title="Permanent link">&para;</a></h3>
<p>This project uses a hybrid approach for configuration management:</p>
<ol>
<li><strong><code>pyproject.toml</code></strong>: Used for project metadata, dependencies incl. groups for development and documentation, and tool-specific configurations, as well as packaging.</li>
<li><strong><code>settings.toml</code></strong>: Stores static, non-sensitive application parameters like model hyperparameters, training settings, and data paths. This file is located in the root of the generated project.</li>
<li><strong>Environment Variables</strong>: Used for dynamic or sensitive settings, overriding values from <code>config.toml</code>.</li>
</ol>
<p>Settings are loaded using Pydantic, which provides type validation and allows overriding <code>config.toml</code> values with environment variables. This ensures a clear separation of concerns and flexibility for different environments.</p>
<div class="language-toml highlight"><pre><span></span><code><span class="c1"># filepath: pyproject.toml</span>
<span class="k">[project]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;uv-datascience-project-template&quot;</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.1.0&quot;</span>
<span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Template Project for Developing Data Science Projects with UV. A new project using this template can be created with cookiecutter.&quot;</span>
<span class="n">readme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;README.md&quot;</span>
<span class="n">license</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;MIT&quot;</span><span class="p">}</span>
<span class="n">authors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;David Tiefenthaler&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="n">urls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">repository</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/tiefenthaler/uv-datascience-project-template&quot;</span><span class="p">}</span>
<span class="n">keywords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;data science project&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;docker&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;template&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;uv&quot;</span>
<span class="p">]</span>
<span class="n">requires-python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&gt;=3.12.0, &lt;3.13.0&quot;</span>
<span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;fastapi[standard]&gt;=0.115.6&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;lightning&gt;=2.4.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pydantic&gt;=2.10.4&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;torch&gt;=2.4.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;torchvision&gt;=0.20.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;uvicorn&gt;=0.34.0&quot;</span>
<span class="p">]</span>

<span class="c1"># DEV SETTING</span>
<span class="k">[dependency-groups]</span>
<span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;cookiecutter&gt;=2.6.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;ipykernel&gt;=6.29.5&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;jupyterlab&gt;=4.3.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pre-commit&gt;=4.1.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pyright&gt;=1.1.398&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pytest-cov&gt;=6.0.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pytest&gt;=8.1.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;ruff&gt;=0.11.2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;toml-sort&gt;=0.24.2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;uv&gt;=0.5.26&quot;</span>
<span class="p">]</span>
<span class="n">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;mkdocs&gt;=1.6.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;mkdocs-include-markdown-plugin&gt;=7.1.4&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;mkdocs-jupyter&gt;=0.25.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;mkdocs-material&gt;=9.6.3&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;mkdocstrings-python&gt;=1.16.8&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pymdown-extensions&gt;=10.14.3&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># DEV SETTING</span>
<span class="k">[tool.uv]</span>
<span class="n">default-groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;dev&quot;</span><span class="p">]</span>

<span class="c1"># DEV SETTING</span>
<span class="c1"># ruff.toml file is used.</span>
<span class="k">[tool.ruff]</span>

<span class="c1"># DEV SETTING</span>
<span class="c1"># pytest.ini file is used.</span>
<span class="k">[tool.pytest]</span>

<span class="c1"># DEV SETTING</span>
<span class="c1"># .coveragerc file is used. A pytest fixture in .conftest.py is used to create coverage file/report directory.</span>
<span class="k">[tool.coverage]</span>

<span class="c1"># DEV SETTING</span>
<span class="c1"># pyrightconfig.json file is used. NOTE: Ensure to set the python version correctly.</span>
<span class="k">[tool.pyright]</span>

<span class="c1"># DEV SETTING</span>
<span class="c1"># NOTE: to sort, run: &quot;uv run toml-sort pyproject.toml&quot;</span>
<span class="k">[tool.tomlsort]</span>
<span class="n">in_place</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">no_sort_tables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">sort_inline_arrays</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">spaces_before_inline_comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="n">spaces_indent_inline_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>

<span class="k">[tool.hatch.build.targets.wheel]</span>
<span class="n">packages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;src/uv_datascience_project_template&quot;</span><span class="p">]</span>

<span class="k">[build-system]</span>
<span class="n">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;hatchling&quot;</span><span class="p">]</span>
<span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hatchling.build&quot;</span>
</code></pre></div>
<h2 id="cookiecutter-to-create-a-new-project-from-this-template">&gt; Cookiecutter to create a new project from this template<a class="headerlink" href="#cookiecutter-to-create-a-new-project-from-this-template" title="Permanent link">&para;</a></h2>
<p>Cookiecutter is a command-line utility that creates projects from project templates. This guide explains how cookiecutter works and how it's used in this project.</p>
<h3 id="how-to-use-cookiecutter">How to Use Cookiecutter<a class="headerlink" href="#how-to-use-cookiecutter" title="Permanent link">&para;</a></h3>
<ol>
<li>Install Cookiecutter</li>
<li>Create a new project using the template:
   <code>bash
   cookiecutter gh:tiefenthaler/uv-datascience-project-template</code></li>
<li>Follow the prompts to customize your project:</li>
<li>Enter the project name.</li>
<li>Enter the project description.</li>
<li>...</li>
</ol>
<!--docs-ref-index-cookiecutter-0-start-->
<ol>
<li>Navigate to the newly created project directory:
   <div class="language-bash highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>&lt;project_name&gt;
</code></pre></div></li>
<li>Use the <code>Makefile</code> to manage the project:</li>
<li>Create virtual environment and install dependencies:
     <div class="language-bash highlight"><pre><span></span><code>make<span class="w"> </span>install
</code></pre></div></li>
<li>Run checks for code quality:
     <div class="language-bash highlight"><pre><span></span><code>make<span class="w"> </span>check
</code></pre></div></li>
<li>Run additional commands like "test", "build", and others as needed.</li>
<li>Run the FastAPI application:
     <div class="language-bash highlight"><pre><span></span><code>make<span class="w"> </span>run-api
</code></pre></div></li>
<li>Format code:
     <div class="language-bash highlight"><pre><span></span><code>make<span class="w"> </span>format
</code></pre></div></li>
<li>Lint and fix code:
     <div class="language-bash highlight"><pre><span></span><code>make<span class="w"> </span>lint-fix
</code></pre></div></li>
<li>Check for template synchronization issues:
     <div class="language-bash highlight"><pre><span></span><code>make<span class="w"> </span>check-template-sync
</code></pre></div></li>
<li>Happy coding!</li>
</ol>
<!--docs-ref-index-cookiecutter-0-end-->

<h2 id="custom-code-in-src-folder">Custom Code in src Folder<a class="headerlink" href="#custom-code-in-src-folder" title="Permanent link">&para;</a></h2>
<p>See <a href="https://tiefenthaler.github.io/uv-datascience-project-template/api/fastapi_app/">Source Code API Reference</a> for a comprehensive documentation.</p>
<p>The <code>src</code> folder contains the custom code for the machine learning project. The main components include:</p>
<h3 id="lit_auto_encoder">lit_auto_encoder<a class="headerlink" href="#lit_auto_encoder" title="Permanent link">&para;</a></h3>
<p>This file defines the <code>LitAutoEncoder</code> class, which is a LightningModule an autoencoder using PyTorch Lightning. The <code>LitAutoEncoder</code> class includes:</p>
<ol>
<li>An <code>__init__</code> method to initialize the encoder and decoder.</li>
<li>A <code>training_step</code> method to define the training loop.</li>
<li>A <code>configure_optimizers</code> method to set up the optimizer.</li>
</ol>
<h3 id="train_autoencoder">train_autoencoder<a class="headerlink" href="#train_autoencoder" title="Permanent link">&para;</a></h3>
<p>This file defines the training function <code>train_litautoencoder</code> to initialize and train the model on the MNIST dataset using PyTorch Lightning. It now returns the path to the saved model checkpoint.</p>
<h3 id="fastapi-application">FastAPI Application<a class="headerlink" href="#fastapi-application" title="Permanent link">&para;</a></h3>
<p>The FastAPI application is defined in the <code>app_fastapi_autoencoder.py</code> file. It includes the following endpoints:</p>
<ol>
<li><code>GET /</code>: Root endpoint that provides a welcome message and instructions.</li>
<li><code>POST /train</code>: Endpoint to train the autoencoder model.</li>
<li><code>POST /embed</code>: Endpoint to embed fake images using the trained autoencoder.</li>
</ol>
<h4 id="app_fastapi_autoencoder">app_fastapi_autoencoder<a class="headerlink" href="#app_fastapi_autoencoder" title="Permanent link">&para;</a></h4>
<p>See <a href="https://tiefenthaler.github.io/uv-datascience-project-template/api/fastapi_app/">Source Code API Reference</a> for a comprehensive documentation.</p>
<p>This file defines the FastAPI application and the endpoints. It uses <code>app.state</code> to manage the model's state (encoder, decoder, training status, and checkpoint path) instead of global variables. This provides a cleaner and more scalable pattern. It includes:</p>
<ol>
<li>Importing necessary libraries and modules.</li>
<li>Initializing <code>app.state</code> on application startup to manage model components.</li>
<li>A <code>NumberFakeImages</code> class for input validation.</li>
<li>A <code>train_litautoencoder</code> function to initialize and train the autoencoder.</li>
<li>A <code>read_root</code> function to handle the root endpoint.</li>
<li>A <code>train_model</code> function to handle the model training endpoint, which now updates <code>app.state</code>.</li>
<li>An <code>embed</code> function to handle the embedding endpoint, which now retrieves the model and checkpoint path from <code>app.state</code>.</li>
<li>The application entry point to run the FastAPI application.</li>
</ol>
<h3 id="main">main<a class="headerlink" href="#main" title="Permanent link">&para;</a></h3>
<p>This file defines the uvicorn server to run the FastAPI AutoEncoder application and the endpoints. It includes:</p>
<ol>
<li>Importing necessary libraries and modules, including the source code of the project.</li>
<li>The application entry point to run the FastAPI application.</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span class="c1"># filepath: main.py</span>

<span class="c1"># Application entry point</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Run the FastAPI application</span>
    <span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="n">app</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8000</span><span class="p">)</span>
</code></pre></div>
<h2 id="production-setup-for-the-machine-learning-fastapi-app-hosted-in-the-docker-container">Production Setup for the Machine Learning FastAPI App hosted in the Docker container<a class="headerlink" href="#production-setup-for-the-machine-learning-fastapi-app-hosted-in-the-docker-container" title="Permanent link">&para;</a></h2>
<p>See <a href="https://tiefenthaler.github.io/uv-datascience-project-template/guides/docker_prod/">Docker Production Setup</a> for a comprehensive guide.</p>
<h3 id="dockerfile">Dockerfile<a class="headerlink" href="#dockerfile" title="Permanent link">&para;</a></h3>
<p>The <code>Dockerfile</code> is used to build the Docker image for the project. It includes the following steps:</p>
<ol>
<li>Define build-time arguments for the base container images and workspace name.</li>
<li>Use a Python image with <code>uv</code> pre-installed.</li>
<li>Set the working directory.</li>
<li>Enable bytecode compilation for faster startup.</li>
<li>Copy and install dependencies without installing the project.</li>
<li>Copy the application source code and install it.</li>
<li>Add executables and source to environment paths.</li>
<li>Set the default command to run the FastAPI application.</li>
</ol>
<h4 id="multi-stage-dockerfile">Multi Stage Dockerfile<a class="headerlink" href="#multi-stage-dockerfile" title="Permanent link">&para;</a></h4>
<p>To build the multistage image for a container optimized final image without uv use the <code>multistage.Dockerfile</code>.</p>
<h3 id="docker-compose">Docker Compose<a class="headerlink" href="#docker-compose" title="Permanent link">&para;</a></h3>
<p>The <code>docker-compose.yml</code> file is used to define and run multi-container Docker applications. It includes the following configurations:</p>
<ol>
<li>Build the image from the <code>Dockerfile</code>.</li>
<li>Define the image name.</li>
<li>Host the FastAPI application on port 8000.</li>
<li>Mount the current directory to the app directory in the container.</li>
<li>Set environment variables.</li>
<li>Define the default command to start the FastAPI application.</li>
</ol>
<!--docs-ref-docker-prod-build-start-->
<h3 id="build-the-docker-image-and-run-a-container">Build the docker image and run a container<a class="headerlink" href="#build-the-docker-image-and-run-a-container" title="Permanent link">&para;</a></h3>
<p>Build and run a specific or all services when multiple services ("app" and "app-optimized-docker") are defined in <code>docker-compose.yml</code>. Note that in the give example both services us the same port and only one service at a time should be used.</p>
<div class="language-bash highlight"><pre><span></span><code>docker-compose<span class="w"> </span>up<span class="w"> </span>--build
</code></pre></div>
<p>or to build a single service only "app" respectively "app-optimized-docker".</p>
<div class="language-bash highlight"><pre><span></span><code>docker-compose<span class="w"> </span>up<span class="w"> </span>--build<span class="w"> </span>app
</code></pre></div>
<div class="language-bash highlight"><pre><span></span><code>docker-compose<span class="w"> </span>up<span class="w"> </span>--build<span class="w"> </span>app-optimized-docker
</code></pre></div>
<h3 id="test-the-endpoint-with-curl">Test the endpoint with curl<a class="headerlink" href="#test-the-endpoint-with-curl" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Welcome root endpoint</p>
<div class="language-bash highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>http://0.0.0.0:8000/
</code></pre></div>
</li>
<li>
<p>Get docs of the request options of the FastAPI app:</p>
<div class="language-bash highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>http://0.0.0.0:8000/docs
</code></pre></div>
</li>
<li>
<p>Test the endpoint with curl by training the model first, followed by requesting predictions for n fake images</p>
<div class="language-bash highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8000/train<span class="w"> </span><span class="se">\</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8000/embed<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;n_fake_images&quot;: 4}&#39;</span>
</code></pre></div>
</li>
</ul>
<!--docs-ref-docker-prod-build-end-->

<h2 id="development-in-dev-container">Development in Dev Container<a class="headerlink" href="#development-in-dev-container" title="Permanent link">&para;</a></h2>
<p>See <a href="https://tiefenthaler.github.io/uv-datascience-project-template/guides/docker_vscode_devcontainer/">VSCode Dev-Container (Docker) Setup for Data Science Projects using UV</a> for a comprehensive guide.</p>
<ul>
<li>Run the server: <code>uv run /workspace/main.py</code></li>
<li>
<p>Test the standard endpoints with curl:</p>
<ul>
<li>
<p>Get docs of the request options of the FastAPI app</p>
<div class="language-bash highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>http://localhost:8000/docs
</code></pre></div>
</li>
<li>
<p>Welcome root request of the FastAPI app, providing an app description</p>
<div class="language-bash highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>http://localhost:8000/
</code></pre></div>
</li>
<li>
<p>Test the machine learning endpoints with curl:</p>
<div class="language-bash highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8000/train<span class="w"> </span><span class="se">\</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8000/embed<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;n_fake_images&quot;: 1}&#39;</span>
</code></pre></div>
</li>
</ul>
</li>
</ul>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>This repository provides a comprehensive overview of setting up and running the machine learning FastAPI project using Docker and <code>uv</code>. Follow the instructions to build and run the application in both development and production environments. The project demonstrates how to develop and productionize machine learning applications using modern tools and best practices.</p>
<p>Additionally, ensure to review the provided guides and documentation for detailed instructions on various setups and configurations necessary for optimal project performance.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 David Tiefenthaler
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.indexes", "navigation.sections", "navigation.expand", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "content.code.select"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>